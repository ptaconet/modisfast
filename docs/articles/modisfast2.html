<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2. Get data on several regions or periods of interest at a glance • modisfast</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="2. Get data on several regions or periods of interest at a glance">
<meta property="og:description" content="modisfast">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">modisfast</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/get_started.html">1. Get started </a>
    </li>
    <li>
      <a href="../articles/modisfast2.html">2. Get data on several regions or periods of interest at a glance</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ptaconet/modisfast/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>2. Get data on several regions or periods of
interest at a glance</h1>
                        <h4 data-toc-skip class="author">Paul
Taconet</h4>
            
            <h4 data-toc-skip class="date">2024-05-16</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ptaconet/modisfast/blob/HEAD/vignettes/modisfast2.Rmd" class="external-link"><code>vignettes/modisfast2.Rmd</code></a></small>
      <div class="hidden name"><code>modisfast2.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>In the <code><a href="../articles/get_started.html">vignette("get_started")</a></code>, we have imported data
:</p>
<ul>
<li>from several collections (MOD13A3.061 and GPM_3IMERGM.07) ;</li>
<li>over one single region of interest (ROI) ;</li>
<li>for one single time frame of interest (2017-01-01 to
2017-01-30).</li>
</ul>
<p>So far so good, but what if we need <strong><em>multiple regions of
interest</em></strong>, and / or <strong><em>multiple time frames of
interest</em></strong> ? Those case are likely to happen, for instance
:</p>
<ul>
<li>multiple time frames of interest : we have spatiotemporal sampling
data - e.g. species occurrence - that were collected over a large time
frame and we want to study how local past environmental / climatic
conditions influence the occurrence ;</li>
<li>multiple regions of interest : we want to compare two areas in terms
of their environmental or climatic conditions.</li>
</ul>
<p>We could use <code>for</code> loops or related stuff to do the job.
However, this would not be very optimized. In this vignette, we explain
why and we show how to optimize the data import in the case of
<strong>multiple regions</strong> or <strong>multiple time
periods</strong> of interest. Let’s start !</p>
</div>
<div class="section level2">
<h2 id="get-data-over-multiple-regions-of-interest-at-a-glance">Get data over multiple regions of interest at a glance<a class="anchor" aria-label="anchor" href="#get-data-over-multiple-regions-of-interest-at-a-glance"></a>
</h2>
<p>It is very easy to get data over multiple regions of interest, as
<code><a href="../reference/mf_get_url.html">mf_get_url()</a></code> naturally supports the setting up of various
ROIs, as shown in the example below :</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ptaconet/modisfast" class="external-link">modisfast</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/" class="external-link">purrr</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Define multiple regions of interest</span></span>
<span><span class="va">roi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Korhogo"</span>,<span class="st">"Diebougou"</span><span class="op">)</span>,</span>
<span>                           geom<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"POLYGON ((-5.82 9.54, -5.42 9.55, -5.41 8.84, -5.81 8.84, -5.82 9.54))"</span>,</span>
<span>                                   <span class="st">"POLYGON ((-3.62 11.03, -3.13 11.04, -3.11 10.60, -3.60 10.60, -3.62 11.03))"</span></span>
<span>                                   <span class="op">)</span><span class="op">)</span>,wkt<span class="op">=</span><span class="st">"geom"</span>,crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span>
<span>                                   </span>
<span><span class="va">time_range</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2017-01-01"</span>,<span class="st">"2017-01-30"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># define target folder</span></span>
<span><span class="va">target_fold</span> <span class="op">&lt;-</span> <span class="st">"env_data_2"</span></span>
<span></span>
<span><span class="co"># and then execute the classical workflow</span></span>
<span></span>
<span><span class="va">log</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mf_login.html">mf_login</a></span><span class="op">(</span>credentials <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"earthdata_un"</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"earthdata_pw"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Checking credentials...</span></span>
<span><span class="co">#&gt; Successfull login to earthdata</span></span>
<span></span>
<span><span class="va">urls_mod11a1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mf_get_url.html">mf_get_url</a></span><span class="op">(</span></span>
<span>        collection <span class="op">=</span> <span class="st">"MOD11A1.061"</span>,</span>
<span>        variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LST_Day_1km"</span>,<span class="st">"LST_Night_1km"</span>,<span class="st">"QC_Day"</span>,<span class="st">"QC_Night"</span><span class="op">)</span>,</span>
<span>        roi <span class="op">=</span> <span class="va">roi</span>,</span>
<span>        time_range <span class="op">=</span> <span class="va">time_range</span><span class="op">)</span></span>
<span><span class="co">#&gt; Building the URLs...</span></span>
<span><span class="co">#&gt; OK</span></span>
<span></span>
<span><span class="va">res_dl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mf_download_data.html">mf_download_data</a></span><span class="op">(</span><span class="va">urls_mod11a1</span>, path <span class="op">=</span> <span class="va">target_fold</span><span class="op">)</span></span>
<span><span class="co">#&gt; 2  datasets in total :  0  already downloaded and  2  datasets to download</span></span>
<span><span class="co">#&gt; Downloading the data...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Data were all properly downloaded under the folder(s)  env_data_2/Diebougou/MOD11A1.061 and env_data_2/Korhogo/MOD11A1.061</span></span>
<span></span>
<span><span class="va">modis_ts_korhogo</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mf_import_data.html">mf_import_data</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">target_fold</span>,<span class="st">"Korhogo"</span>,<span class="st">"MOD11A1.061"</span><span class="op">)</span>, collection_source <span class="op">=</span> <span class="st">"MODIS"</span><span class="op">)</span></span>
<span><span class="va">modis_ts_diebougou</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mf_import_data.html">mf_import_data</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">target_fold</span>,<span class="st">"Diebougou"</span>,<span class="st">"MOD11A1.061"</span><span class="op">)</span>, collection_source <span class="op">=</span> <span class="st">"MODIS"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="get-data-over-multiple-time-periods-of-interest-at-a-glance">Get data over multiple time periods of interest at a glance<a class="anchor" aria-label="anchor" href="#get-data-over-multiple-time-periods-of-interest-at-a-glance"></a>
</h2>
<p>Here, the things are just a bit more different, as explained in this
example :</p>
<p>We first setup the time ranges of interest (and as usual, the
ROI)</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">roi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"Korhogo"</span>, geom<span class="op">=</span><span class="st">"POLYGON ((-5.82 9.54, -5.42 9.55, -5.41 8.84, -5.81 8.84, -5.82 9.54))"</span><span class="op">)</span>,wkt<span class="op">=</span><span class="st">"geom"</span>,crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span>
<span></span>
<span><span class="va">time_ranges</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2016-01-01"</span>,<span class="st">"2016-01-31"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                    <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2017-01-01"</span>,<span class="st">"2017-01-31"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                    <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2018-01-01"</span>,<span class="st">"2018-01-31"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                    <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2019-01-01"</span>,<span class="st">"2019-01-31"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">target_fold</span> <span class="op">&lt;-</span> <span class="st">"env_data_2"</span></span>
<span></span>
<span><span class="va">log</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mf_login.html">mf_login</a></span><span class="op">(</span>credentials <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"earthdata_un"</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"earthdata_pw"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Checking credentials...</span></span>
<span><span class="co">#&gt; Successfull login to earthdata</span></span></code></pre></div>
<p>Of course, we could loop over the <code><a href="../reference/mf_get_url.html">mf_get_url()</a></code> with the
time ranges of interest, and get the data. However, the
<code><a href="../reference/mf_get_url.html">mf_get_url()</a></code> function does query the OPeNDAP servers each
time it is called. This query internally imports various data, including
OPeNDAP time, latitude and longitude vectors, and this process takes
some time. In case you loop over the function for the same ROI and
multiple time frames of interest, it will import again and again the
same data, which is quite useless.</p>
<p>Here is where the function <code><a href="../reference/mf_get_opt_param.html">mf_get_opt_param()</a></code> comes into
the game. For a given collection and ROI, this function queries the
OPeNDAP server and retrieves the information that we were mentionning in
the previous paragraph. This function is actually run within the
<code><a href="../reference/mf_get_url.html">mf_get_url()</a></code> function, but its output can also be provided
as input parameter <code>opt_param</code> of <code><a href="../reference/mf_get_url.html">mf_get_url()</a></code>.
If <code><a href="../reference/mf_get_url.html">mf_get_url()</a></code> is queried multiple times for the same
couple {collection, ROI}, it is hence more efficient to pre-compute only
once the argument <code>opt_param</code> using
<code><a href="../reference/mf_get_opt_param.html">mf_get_opt_param()</a></code> and to further provide it to
<code><a href="../reference/mf_get_url.html">mf_get_url()</a></code> within a <code>for</code> loop or e.g. a
<code><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">purrr::map()</a></code> function.</p>
<p><strong>To summarize : when we have multiple time frames of interest,
we first execute the function <code><a href="../reference/mf_get_opt_param.html">mf_get_opt_param()</a></code>. Then, we
execute the function <code><a href="../reference/mf_get_url.html">mf_get_url()</a></code>, passing the result of
<code><a href="../reference/mf_get_opt_param.html">mf_get_opt_param()</a></code> in the parameter
<code>opt_param</code>.</strong></p>
<p>First execute the function <code><a href="../reference/mf_get_opt_param.html">mf_get_opt_param()</a></code> :</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">opt_param_mod11a1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mf_get_opt_param.html">mf_get_opt_param</a></span><span class="op">(</span><span class="st">"MOD11A1.061"</span>,<span class="va">roi</span><span class="op">)</span></span></code></pre></div>
<p>Then execute the function <code><a href="../reference/mf_get_url.html">mf_get_url()</a></code> passing the
argument <code>opt_param</code> :</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">urls_mod11a1</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map_dfr.html" class="external-link">map_dfr</a></span><span class="op">(</span><span class="va">time_ranges</span>, <span class="op">~</span><span class="fu"><a href="../reference/mf_get_url.html">mf_get_url</a></span><span class="op">(</span> </span>
<span>  collection <span class="op">=</span> <span class="st">"MOD11A1.061"</span>,</span>
<span>  variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LST_Day_1km"</span>,<span class="st">"LST_Night_1km"</span>,<span class="st">"QC_Day"</span>,<span class="st">"QC_Night"</span><span class="op">)</span>,</span>
<span>  roi <span class="op">=</span> <span class="va">roi</span>,</span>
<span>  time_range <span class="op">=</span> <span class="va">.</span>,</span>
<span>  opt_param <span class="op">=</span> <span class="va">opt_param_mod11a1</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; Building the URLs...</span></span>
<span><span class="co">#&gt; OK</span></span>
<span><span class="co">#&gt; Building the URLs...</span></span>
<span><span class="co">#&gt; OK</span></span>
<span><span class="co">#&gt; Building the URLs...</span></span>
<span><span class="co">#&gt; OK</span></span>
<span><span class="co">#&gt; Building the URLs...</span></span>
<span><span class="co">#&gt; OK</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">urls_mod11a1</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    4 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;  $ id_roi    : chr  "Korhogo" "Korhogo" "Korhogo" "Korhogo"</span></span>
<span><span class="co">#&gt;  $ time_start: Date, format: "2016-01-01" "2017-01-01" ...</span></span>
<span><span class="co">#&gt;  $ collection: chr  "MOD11A1.061" "MOD11A1.061" "MOD11A1.061" "MOD11A1.061"</span></span>
<span><span class="co">#&gt;  $ name      : chr  "MOD11A1.061.2016001_2016031.h17v08.nc4" "MOD11A1.061.2017001_2017031.h17v08.nc4" "MOD11A1.061.2018001_2018031.h17v08.nc4" "MOD11A1.061.2019001_2019031.h17v08.nc4"</span></span>
<span><span class="co">#&gt;  $ url       : chr  "https://opendap.cr.usgs.gov/opendap/hyrax/MOD11A1.061/h17v08.ncml.nc4?MODIS_Grid_Daily_1km_LST_eos_cf_projectio"| __truncated__ "https://opendap.cr.usgs.gov/opendap/hyrax/MOD11A1.061/h17v08.ncml.nc4?MODIS_Grid_Daily_1km_LST_eos_cf_projectio"| __truncated__ "https://opendap.cr.usgs.gov/opendap/hyrax/MOD11A1.061/h17v08.ncml.nc4?MODIS_Grid_Daily_1km_LST_eos_cf_projectio"| __truncated__ "https://opendap.cr.usgs.gov/opendap/hyrax/MOD11A1.061/h17v08.ncml.nc4?MODIS_Grid_Daily_1km_LST_eos_cf_projectio"| __truncated__</span></span></code></pre></div>
<p>Now, download and import the data in R :</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">res_dl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mf_download_data.html">mf_download_data</a></span><span class="op">(</span><span class="va">urls_mod11a1</span>, path <span class="op">=</span> <span class="va">target_fold</span><span class="op">)</span></span>
<span><span class="co">#&gt; 4  datasets in total :  0  already downloaded and  4  datasets to download</span></span>
<span><span class="co">#&gt; Downloading the data...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Data were all properly downloaded under the folder(s)  env_data_2/Korhogo/MOD11A1.061</span></span>
<span></span>
<span><span class="va">modis_ts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mf_import_data.html">mf_import_data</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">target_fold</span>,<span class="st">"Korhogo"</span>,<span class="st">"MOD11A1.061"</span><span class="op">)</span>, collection_source <span class="op">=</span> <span class="st">"MODIS"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">modis_ts</span></span>
<span><span class="co">#&gt; class       : SpatRaster </span></span>
<span><span class="co">#&gt; dimensions  : 85, 50, 124  (nrow, ncol, nlyr)</span></span>
<span><span class="co">#&gt; resolution  : 0.008417905, 0.008417905  (x, y)</span></span>
<span><span class="co">#&gt; extent      : -5.818061, -5.397166, 8.830311, 9.545833  (xmin, xmax, ymin, ymax)</span></span>
<span><span class="co">#&gt; coord. ref. : lon/lat WGS 84 (EPSG:4326) </span></span>
<span><span class="co">#&gt; source(s)   : memory</span></span>
<span><span class="co">#&gt; names       : LST_N~1km_1, LST_N~1km_2, LST_N~1km_3, LST_N~1km_4, LST_N~1km_5, LST_N~1km_6, ... </span></span>
<span><span class="co">#&gt; min values  :    285.8285,    287.4483,    288.2661,     285.307,    288.3886,    288.1431, ... </span></span>
<span><span class="co">#&gt; max values  :    295.6503,    294.3870,    295.9265,     293.285,    295.7804,    294.9189, ... </span></span>
<span><span class="co">#&gt; time (days) : 2016-01-01 to 2016-01-31</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Paul Taconet.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
